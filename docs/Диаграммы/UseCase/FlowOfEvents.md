# Поток событий 
## Содержание
1. [Актеры](#actors)   
2. [Варианты использования](#use)   
2.1 [Войти в систему](#signin)  
2.2 [Зарегистрироваться](#signup)  
2.3 [Показать все книги](#showbooklist)  
2.4 [Поиск по книге](#search)  
2.5 [Забронировать книгу](#bookbook)  
2.6 [Просмотреть историю заказов](#showhistory)  
2.7 [Изменить список книг](#changebooklist)  
2.8 [Добавить книгу](#addbook)  
2.9 [Удалить книгу](#deletebook)  
2.10 [Ответить на заявки](#ask)  
## 1. Актеры <a name="actors"></a>
| Актер         | Описание           |
| ------------- |------------------|
| Пользователь  | Человек, зарегистрированный в системе |
| Библиотекарь     | Пользователь, имеющий доступ к изменению каталога книг и управлению запросами на бронь |
| Читатель  | Пользователь, имеющий доступ к каталогу книг, их брони и получению |
## 2. Варианты использования <a name="use"></a>
### 2.1 Войти в систему <a name="signin"></a>
Описание. Вариант использования "Войти в приложение" позволяет пользователю войти в приложение.  
Основной поток.
1. Вариант использования начинается, когда пользователь запускает приложение;
2. Приложение отображает окно входа, в котором запрашивает логин и пароль. Так же появляется ссылка на страницу регистрации;
3. Пользователь вводит свои данные для входа в систему и нажимает на соответсвующую кнопку.
4. Выполняется проверка данных. Если введены неверные данные, выполняется альтернативный поток А1.
5. Приложение отображает главное окно приложения, соответствующее статусу пользователя.
6. Вариант использования завершается.  
Альтернативный поток А1.
1. Всплывает сообщение об ошибке, предлагается ввести данные еще раз.
2. Происходит возврат к пункту 2 основного потока.
### 2.2 Зарегистрироваться <a name="signup"></a>
Описание. Вариант использования "Зарегистрироваться" позволяет пользователю создать свою учётную запись в приложении.  
Основной поток.
1. Приложение отображает окно регистрации, в котором запрашивает у пользователя ввод имени, фамилии, электронного адреса, логина и пароля.
2. Пользователь вводит свои данные.
3. Пользователь подтверждает ввод данных.
4. Приложение проверят введённый логин и электронный адрес на совпадение с логином и электронным адресом уже зарегистрированных пользователей. Если совпадение выявлено, выполняется альтернативный поток А1;
5. Приложение отображает главное окно приложения.
6. Вариант использования завершается.  
Альтернативный поток А1.  
1. Приложение сообщает пользователю, что пользователь с таким логином или электронным адресом уже существует;
2. Возврат к пункту 1 основного потока.
### 2.3 Показать все книги <a name="showbooklist"></a>
Описание. Вариант использования "Показать все книги" позволяет пользователю посмотреть все книги в библиотеке.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку просмотра всех книг.
2. Приложение делает запрос в базу данных. Если книг нет, то выполняется альтернативный поток А1.
3. Таблицей выводится список всех книг.
7. Вариант использования завершается.  
Альтернативный поток А1.  
1. Всплывает сообщение о том, что в библиотеке пусто.
2. Завершение альтернативного потока.
### 2.4 Поиск по книге <a name="search"></a>
Описание. Вариант использования "Поиск по книге" позволяет пользователю выполнять поиск книг.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку поиска по книге.
2. Приложение отображает окно поиска, в котором предлагается ввести название или часть названия книги.
3. Пользователь вводит данные.
4. Выполняется запрос в базу данных. Если совпадений не найдено, выполняется альтернативный поток А1.
5. Результаты поиска выводятся в виде таблицы на страницу.
6. Вариант использования завершается.  
Альтернативный поток А1.  
1. Всплывает сообщение о том, что в требуемая книга не найдена.
2. Возврат к пункту 2 основного потока.
### 2.5 Забронировать книгу. <a name="bookbook"></a>
Описание. Вариант использования "Забронировать книгу" позволяет пользователю бронировать книгу.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку напротив книги.
2. Делается запрос в базу данных. Если количество броней у данного пользователя привышает 5, то выполняется альтернативный поток А1.
3. Всплывает окно об успешной брони книги.
4. Вариант использования завершается.
Альтернативный поток А1.  
1. Всплывает сообщение об ошибке.
2. Завершение альтернативного потока.
### 2.6 Просмотреть историю заказов. <a name="showhistory"></a>
Описание. Вариант использования "Просмотреть историю заказов" позволяет пользователю просмотреть все заказанные и забронированные им книги.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку.
2. Выполняется запрос в базу данных. Если заказов и броней нет, выолняется альтернативный поток А1.
3. На страницу выводится вся информация о бронях и заказах книг.
4. Вариант использования завершается.  
Альтернативный поток А1.  
1. Всплывает сообщение о том, что броней или заказов у пользователя нет.
2. Завершение альтернативного потока.
### 2.7 Изменить список книг. <a name="changebooklist"></a>
Описание. Вариант использования "Изменить список книг" позволяет библиотекарю изменить список книг в библиотеке.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку.
2. Выводится соответствующее окно с предложениями либо добавить, либо удалить книгу.
3. При выборе добавления книги, выполняется варинат использования 2.8. При выборе удаления книги, выполняется варинат использования 2.9.
4. Вариант использования завершается.
### 2.8 Добавить книгу. <a name="addbook"></a>
Описание. Вариант использования "Добавить книгу" позволяет библиотекарю добавить книгу в каталог.  
Основной поток.
1. Приложение отображает окно добавления, в котором запрашивает ввод имени автора, названия книги и количества экземпляров.
2. Пользователь вводит данные о книге и подтверждает ввод.
3. Выполняется проверка данных. Если данные введены неверно, выполняется альтернативный поток А1.
4. Всплывает сообщение об успешном завершении операции и переход к варианту использования 2.7.
5. Вариант использования завершается.  
Альтернативный поток А1.  
1. Выводится сообщение об ошибке.
2. Переход к пункту 1 основного потока.
### 2.9 Удалить книгу. <a name="deletebook"></a>
Описание. Вариант использования "Удалить книгу" позволяет библиотекарю удалить книгу из каталог.  
Основной поток.
1. Приложение отображает окно удаления, в котором отображает все книги библиотеки с расположенными рядом чекбоксами.
2. Пользователь выбирает книги для удаления, ставя напротив них галочки в чекбоксах, и нажимает соответсвующую кнопку.
3. Всплывает сообщение об успешном завершении операции.
4. Переход к варианту использования 2.7
5. Вариант использования завершается.
### 2.10 Ответить на заявки <a name="ask"></a>
Описание. Вариант использования "Ответить на заявки" позволяет библиотекарю отвечать на заявки читателей.  
Основной поток.
1. Вариант использования начинается, когда пользователь нажимает на соответсвующую кнопку.
2. Выполняется запрос в базу данных. Если заявок нет, то выполняется альтернативный поток А1.
3. Приложение отображает все заявки в форме таблицы с соответсвующими кнопками "отклонить бронь", "подтвердить бронь", "выдать книгу", "отправить уведомление о задолженности".
4. Вариант использования завершается.  
Альтернативный поток А1.  
1. Выводится сообщение о том, что заявок нет.
2. Приложение переходит на главную страницу библиотекаря.
3. Завершение альтернативного потока.  
[Просмотреть диаграмму вариантов использования](https://github.com/SvetaReznichenko-650503/OnlineLibrary/blob/master/docs/System%20project/UseCase/Use%20Case.jpg)

